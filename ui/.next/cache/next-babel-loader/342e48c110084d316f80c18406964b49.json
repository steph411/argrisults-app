{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport mapboxgl from 'mapbox-gl'; // const mapboxAccessToken = process.env.MAP_ACCESS_TOKEN\n\nconst mapboxAccessToken = \"pk.eyJ1IjoiZXRhYmFsaW9uZWwiLCJhIjoiY2tobmkxcmp5MDIxcjJ1cGVtcnoxbTRnayJ9.F8FUtpO8FsYJFYhWxfAr1Q\";\n\nlet MapModal = ({\n  className,\n  updateLonLat,\n  closeModal\n}) => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    lat: \"7.369722\",\n    lon: \"12.354722\",\n    zoom: 0.9\n  });\n  const mapContainer = useRef(null);\n\n  const handleCloseModal = e => {\n    if (e.target.id == \"containerMap\") {\n      closeModal();\n    }\n  };\n\n  useEffect(() => {\n    mapboxgl.accessToken = mapboxAccessToken;\n    console.log({\n      mapboxAccessToken,\n      mapboxaccess: mapboxgl.accessToken\n    });\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [state.lon, state.lat],\n      zoom: state.zoom\n    });\n    map.addControl(new mapboxgl.GeolocateControl({\n      positionOptions: {\n        enableHighAccuracy: true\n      },\n      trackUserLocation: true\n    }));\n    map.on('move', () => {\n      setState({\n        lon: map.getCenter().lng.toFixed(4),\n        lat: map.getCenter().lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n    map.on(\"click\", e => {\n      console.log(e.lngLat);\n      const {\n        lng,\n        lat\n      } = e.lngLat;\n      updateLonLat(lat, lng);\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: className,\n    onClick: handleCloseModal,\n    id: \"containerMap\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      id: \"map\",\n      ref: mapContainer\n    })\n  });\n};\n\nMapModal = styled(MapModal).withConfig({\n  displayName: \"MapModal\",\n  componentId: \"sc-9p4ei7-0\"\n})([\"display:grid;place-items:center;width:100%;height:100%;background-color:rgba(0,0,0,0.8);position:fixed;top:0;left:0;bottom:0;right:0;#map{width:65%;height:60%;background:white;border-radius:10px;opacity:1;z-index:1;}\"]);\nexport default MapModal;","map":null,"metadata":{},"sourceType":"module"}